"use strict";angular.module("angular-google-auth",[]).factory("googleAuth",["$rootScope","$http","$q",function(a){var b={init:function(a){if(document.domain===document.domain)b.login({getEmail:function(){return"localhost@ft.com"}},a);else{var c=document.createElement("script");c.src="https://apis.google.com/js/client:platform.js?onload=cardKitAuth",document.body.appendChild(c),window.cardKitAuth=function(){gapi.signin2.render("my-signin2",{width:200,height:50,longtitle:!1,theme:"dark",onsuccess:function(c){b.login(c.getBasicProfile(),a)}})}}},login:function(b,c){var d=/^.*\@ft\.com$/gi,e=b.getEmail();if(e.match(d)){if("localhost@ft.com"!==e){var f=document.createElement("img");f.src="http://track.ft.com/track/track.gif?cardkit_login="+encodeURIComponent(e),document.body.appendChild(f)}a.$broadcast(c.evtName,b)}else gapi.auth2.getAuthInstance().disconnect(),gapi.auth2.getAuthInstance().signOut();a.$$phase||a.$apply()}};return b}]),angular.module("cardkitApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","colorpicker.module","draganddrop","ui.router","angular-google-auth","angulartics","angulartics.google.analytics"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("index",{url:"/",controller:"MainCtrl",templateUrl:"views/main.html",resolve:{themeConfig:["themeConfigProvider",function(a){return a}],templateConfig:["templateConfigProvider",function(a){return a}]}}).state("login",{url:"/login",controller:"LoginCtrl",templateUrl:"views/login.html"})}]),angular.module("cardkitApp").controller("MainCtrl",["$scope","$location","$analytics","$filter","saveSvgAsPng","themeConfig","templateConfig",function(a,b,c,d,e,f,g){function h(){a.defaultConfig=angular.copy(a.config),a.$broadcast("resetSvg")}function i(b,c){var d=new FileReader;d.onload=function(){c.src=d.result,a.$apply()},d.readAsDataURL(b)}function j(a){return a.stopPropagation(),a.preventDefault(),a.dataTransfer||null}function k(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function l(){var b=[];angular.forEach(a.config.svg.elements,function(a){b.push(a)});var c=d("filter")(b,{useAsFilename:!0,type:"text"},!0)[0],e="image.png";return c&&(e=k(c.text)+".png"),e}a.googleInfo||b.path("/login"),c.pageTrack("/homepage"),a.config={sizes:[{name:"Twitter",width:650,height:320,gridSize:16.25,fill:"transparent"},{name:"Facebook",width:486,height:254,gridSize:12.15},{name:"UNFPA.org Article",width:600,height:295,gridSize:15}],themes:f,templates:g,output:{scale:2,editable:{scale:!0}},svg:{canvas:{height:function(){return a.size.height},width:function(){return a.size.width},gridSize:function(){return a.size.gridSize}}}},"undefined"!=typeof a.config.themes&&(a.theme=a.config.themes.length>1?null:a.config.themes[0]),"undefined"!=typeof a.config.templates&&(a.config.svg.elements=a.config.templates.length>1?null:a.config.template[0](a)),a.size=a.config.sizes.length>1?null:a.config.sizes[0],a.$watch("theme",function(){a.$broadcast("changeTheme"),h()}),a.$watch("template",function(b){b&&(a.config.svg.elements=b.elements(a),a.$broadcast("changeTemplate"),h())}),a.$watch("size",function(){a.$broadcast("changeSize"),h()}),a.resetSvg=function(){a.config.svg=a.defaultConfig.svg,h()},a.onDrop=function(a,b){var c=j(b);i(c.files[0],this.element)},a.fileChanged=function(a){i(angular.element(a)[0].files[0],this.element)},a.removeImage=function(){this.element.src=""},a.downloadSvg=function(){var b=l();e(document.getElementById("snap-svg"),b,{scale:a.config.output.scale})}}]),angular.module("cardkitApp").controller("LoginCtrl",["$rootScope","$scope","$location","googleAuth",function(a,b,c,d){var e="991906554139-pn6gc09ch9jb2iric7tms4jmg7gp8lur.apps.googleusercontent.com",f="evtGoogleLogin";b.trouble=function(a){var b=document.querySelector(".trouble__help");a=a||"100px"===b.style.height?0:"100px",b.style.height=a},b.$on(f,function(b,d){a.googleInfo=d,c.path("/home")}),d.init({client_id:e,evtName:f})}]),angular.module("cardkitApp").service("snapSVG",["$window",function(a){return a.Snap}]),angular.module("cardkitApp").directive("snapSvg",["snapSVG",function(a){return{template:'<svg id="snap-svg"></svg>',restrict:"E",scope:{svgConfig:"=",svgTheme:"="},link:function(b,c){function d(a){var b={};for(var c in a)switch(typeof a[c]){case"function":b[c]=a[c]();break;default:b[c]=a[c]}return b}function e(a,b){for(var c="",d=document.styleSheets,e=0;e<d.length;e++)if(f(d[e].href))console.warn("Cannot include styles from other hosts: "+d[e].href);else{var g=d[e].cssRules;if(null!==g)for(var h=0;h<g.length;h++){var i=g[h];if("undefined"!=typeof i.style)try{var j=a.querySelectorAll(i.selectorText);if(j.length>0){var k=b?b(i.selectorText):i.selectorText;c+=k+" { "+i.style.cssText+" }\n"}else i.cssText.match(/^@font-face/)&&(c+=i.cssText+"\n")}catch(l){}}}return c}function f(a){return a&&0===a.lastIndexOf("http",0)&&-1===a.lastIndexOf(window.location.host)}function g(){r=d(n.canvas),s=o.rect(0,0,r.width,r.height,0,0).attr(r),r.draggable===!0&&s.altDrag(),v=[]}function h(){t={Sepia:o.paper.filter(a.filter.sepia(1)).attr({width:4*r.width+"px",height:4*r.height+"px"}),Grayscale:o.paper.filter(a.filter.grayscale(1)).attr({width:4*r.width+"px",height:4*r.height+"px"}),Saturate:o.paper.filter(a.filter.saturate(.5)).attr({width:4*r.width+"px",height:4*r.height+"px"}),Invert:o.paper.filter(a.filter.invert(1)).attr({width:4*r.width+"px",height:4*r.height+"px"}),Blur:o.paper.filter(a.filter.blur(4,4)).attr({width:4*r.width+"px",height:4*r.height+"px"})}}function i(a){var c;if(a.yAttach){if(angular.isObject(a.yAttach))var e=b.svgConfig.elements[a.yAttach.element],f=a.yAttach.offset||0;else var e=b.svgConfig.elements[a.yAttach],f=0;var g,h=e.text.split("\n"),j=e.y;switch(typeof e.lineHeight){case"function":g=e.lineHeight();break;default:g=e.lineHeight}var l=h.length*(g||e.fontSize)+j+f;a.y=l}switch(a=d(a),a.type){case"text":c=o.text(a.x,a.y);break;case"image":c=o.image(a.src,a.x,a.y,a.width,a.height);break;case"rect":c=o.rect(a.x,a.y,a.width,a.height,0,0);break;case"circle":break;case"group":var m;c="",angular.forEach(a.elements,function(a,b){m=i(a),k(m,a),0===b?c=o.group(m):c.group(m)});break;default:return!1}return"undefined"!=typeof a.defaultFilter&&(""!==a.defaultFilter?c.attr({filter:t[a.defaultFilter]}):c.attr({filter:""})),c}function j(a){return a.replace(/'''/g,"‴").replace(/(\W|^)"(\S)/g,"$1“$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1”$2").replace(/([^0-9])"/g,"$1”").replace(/''/g,"″").replace(/(\W|^)'(\S)/g,"$1‘$2").replace(/([a-z])'([a-z])/gi,"$1’$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1’$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"’$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1’").replace(/'/g,"′")}function k(a,b){var c=d(b),e=c;return delete e.$$hashKey,"text"===e.type&&(e.text=j(e.text),e.text=e.text.split("\n")),e.textTransform&&(a.node.style.textTransform=e.textTransform),angular.isObject(e.draggable)&&(e.draggablex=e.draggable.x,e.draggabley=e.draggable.y),a.attr(e),"text"===e.type&&a.selectAll("tspan").forEach(function(a,b){a.attr({x:e.x,y:e.y+e.fontSize*b})}),a}function l(){var a=d(b.svgConfig.canvas);o.attr({viewBox:"0, 0, "+a.width+", "+a.height,"data-width":a.width,"data-height":a.height}),k(s,b.svgConfig.canvas);var c;angular.forEach(b.svgConfig.elements,function(a,d){if("undefined"!=typeof v[d]){u=v[d],c=u.matrix;var e=i(b.svgConfig.elements[d]);if(e===!1)return;if(u.after(e),e.transform(c),u.remove(),u=e,v[d]=u,"g"===u.type){if(c=u.matrix,u.remove(),u=i(b.svgConfig.elements[d]),u===!1)return;u.transform(c),v[d]=u}}else{if(u=i(a),u===!1)return;v[d]=u}a.draggable&&u.hover(function(b){if(!o.elementDragging&&a.showHoverArea){var c=this.getBBox();this.hoverRect=o.rect(c.x,c.y,c.width,c.height,0,0).attr({fill:"rgba(0, 0, 0, 0.05)"}),this.before(this.hoverRect)}o.elementDragging&&a.showHoverArea&&(this.unhoveringDuringDragging=!1)},function(b){!o.elementDragging&&a.showHoverArea&&this.hoverRect&&this.hoverRect.remove(),o.elementDragging&&a.showHoverArea&&this.hoverRect&&(this.unhoveringDuringDragging=!0)});var f=a;delete f.$$hashKey,k(u,a),a.draggable&&(u.undrag(),angular.isObject(a.draggable)?u.altDrag(a.draggable.x,a.draggable.y):u.altDrag(!0,!0))})}function m(){var a=o.selectAll("*");angular.forEach(a,function(a,b){a.transform("")})}var n=angular.fromJson(b.svgConfig);a.plugin(function(a,c){c.prototype.altDrag=function(a,b){return a&&b?this.drag(e,d,h):a&&!b?this.drag(f,d,h):!a&&b&&this.drag(g,d,h),this};var d=function(){this.data("ot",this.transform().local),o.elementDragging=!0},e=function(a,c){var d,e,f=this.transform().diffMatrix.invert();f.e=f.f=0,d=f.x(a,c),e=f.y(a,c);var g=b.svgConfig.canvas.gridSize();d=Math.round(d/g)*g,e=Math.round(e/g)*g,this.transform(this.data("ot")+"t"+[d,e]),this.hoverRect&&this.hoverRect.transform("t"+[0,0]+"t"+[d,e])},f=function(a,b){var c,d,e=this.transform().diffMatrix.invert();e.e=e.f=0,c=e.x(a,b),d=e.y(a,b),this.transform(this.data("ot")+"t"+[c,0]),this.hoverRect&&this.hoverRect.transform("t"+[0,0]+"t"+[c,0])},g=function(a,b){var c,d,e=this.transform().diffMatrix.invert();e.e=e.f=0,c=e.x(a,b),d=e.y(a,b),this.transform(this.data("ot")+"t"+[0,d]),this.hoverRect&&this.hoverRect.transform("t"+[0,0]+"t"+[0,d])},h=function(){if(o.elementDragging=!1,this.hoverRect){var a=this.hoverRect.getBBox();this.hoverRect.remove(),this.hoverRect=o.rect(a.x,a.y,a.width,a.height,0,0).attr({fill:"rgba(0, 0, 0, 0.05)"}),this.before(this.hoverRect)}this.unhoveringDuringDragging&&(this.hoverRect.remove(),this.unhoveringDuringDragging=!1)}});var o=a(c[0].children[0]);o.attr({height:"100%",width:"100%"});var p=o.paper.el("style",{type:"text/css"}),q=e(o.node);p.node.innerHTML=q,p.toDefs();var r=d(n.canvas),s=o.rect(0,0,r.width,r.height,0,0).attr(r);r.draggable===!0&&s.altDrag(!0,!0),g();var t;h();var u,v={};b.$watch("svgConfig",l,!0),b.$on("changeTheme",l),b.$on("changeTemplate",function(){g(),l()}),b.$on("changeSize",l),b.$on("changeSize",h),b.$on("resetSvg",m)}}}]),angular.module("cardkitApp").service("saveSvgAsPng",["$window",function(a){return a.saveSvgAsPng}]),angular.module("cardkitApp").directive("fixedScroll",["$window",function(a){return function(b,c){var d=c.offset().top-20;angular.element(a).bind("scroll",function(){angular.element(a).scrollTop()>=d?c.addClass("fixed"):c.removeClass("fixed")})}}]),angular.module("cardkitApp").provider("themeConfigProvider",function(){return{$get:["$http","$q",function(a,b){var c=a.get("themes.config.json")["catch"](function(a){return 404===a.status?[]:b.reject(a)}),d=a.get("resources.json")["catch"](function(a){return 404===a.status?{}:b.reject(a)});return b.all([c,d]).then(function(a){for(var b,c,d=a[0].data,e=a[1].data,f=0;f<d.length;f++){b=d[f],c=b.images;for(var g in c)c[g]=e[c[g]]}return d})}]}});var templateHelper={logo:{width:function(a){return a.size.gridSize*(a.theme.isNikkei?9:5)},height:function(a){return a.size.gridSize*(a.theme.isNikkei?3:5)},x:function(a){return a.size.width-(a.theme.isNikkei?this.width(a):5.5*a.size.gridSize)},y:function(a){var b=a.theme.isNikkei?0:a.size.gridSize/2;return 1.075*a.size.height-(this.height(a)+b)}},creditFontSize:function(a){return"Twitter"===a.size.name?(a.theme.isNikkei,20):(a.theme.isNikkei,16)},headLineFontSize:function(a){return"Twitter"===a.size.name?a.theme.isNikkei?30:32:a.theme.isNikkei?22:24},crossReferenceBackground:{width:function(a){var b=a.theme.isNikkei?9*a.size.gridSize:0;return a.size.width-b}}};angular.module("cardkitApp").provider("templateConfigProvider",function(){return{$get:function(){return[{name:"Quote",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Pullquote",type:"image",width:function(){return 10*a.size.gridSize},controlsOrder:4,height:function(){return"function"==typeof this.width?this.width():this.width},src:function(){return a.theme.images.pullquoteSrc},opacity:.6,x:function(){return-1*a.size.gridSize},y:function(){return a.size.gridSize*-.1},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{width:!0,filters:["Grayscale"]}},{name:"Cross Reference Background",type:"rect",controlsOrder:5,height:function(){return 3*a.size.gridSize},width:function(){return templateHelper.crossReferenceBackground.width(a)},y:function(){return a.size.height-this.height()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return templateHelper.logo.width(a)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.images.logoSrc},opacity:1,x:function(){return templateHelper.logo.x(a)},y:function(){return templateHelper.logo.y(a)},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Cross Reference Text",type:"text",text:"Read more at: Insert name here",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return templateHelper.creditFontSize(a)},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return a.size.height-a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (18px)":18,"Standard (22px)":22,"Large (24px)":24}}},{name:"Credit",type:"text",text:"CREDIT: INSERT NAME HERE",controlsOrder:2,fill:function(){return a.theme.quote},fontSize:function(){return templateHelper.creditFontSize(a)},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",textTransform:"none",x:function(){return a.size.gridSize},y:function(){return a.size.height-5*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (16px)":16,"Large (22px)":22,"Larger (24px)":24,"X-Large (26px)":26},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"}}},{name:"Headline",type:"text",text:"Add text or a quote here.\nYou can drag it around.\n\nMore text can go here",fill:function(){return a.theme.quote},controlsOrder:1,fontSize:function(){return templateHelper.headLineFontSize(a)},fontFamily:function(){return a.theme.headlineFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 3*a.size.gridSize},fontWeight:600,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (24px)":24,"Standard (32px)":32,"Large (40px)":40,"X-Large (50px)":50},textAnchor:{left:"start",center:"middle",right:"end"}}}]}},{name:"Quote Big",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Pullquote",type:"image",width:function(){return 10*a.size.gridSize},controlsOrder:4,height:function(){return"function"==typeof this.width?this.width():this.width},src:function(){return a.theme.images.pullquoteSrc||""},opacity:.7,x:function(){return-1*a.size.gridSize},y:function(){return a.size.gridSize*-.1},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{width:!0,filters:["Grayscale"]}},{name:"Cross Reference Background",type:"rect",controlsOrder:5,height:function(){return 3*a.size.gridSize},width:function(){return templateHelper.crossReferenceBackground.width(a)},y:function(){return a.size.height-this.height()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return templateHelper.logo.width(a)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.images.logoSrc},opacity:1,x:function(){return templateHelper.logo.x(a)},y:function(){return templateHelper.logo.y(a)},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Cross Reference Text",type:"text",text:"Read more at: Insert name here",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?20:16},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return a.size.height-a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (16px)":16,"Small (18px)":18,"Standard (22px)":22,"Large (24px)":24}}},{name:"Credit",type:"text",text:"OGDEN NASH",controlsOrder:2,fill:function(){return a.theme.quote},fontSize:function(){return"Twitter"===a.size.name?22:16},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",textTransform:"none",x:function(){return a.size.gridSize},y:function(){return a.size.height-5*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (16px)":16,"Large (22px)":22,"Larger (24px)":24,"X-Large (26px)":26},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"}}},{name:"Quote",type:"text",text:"Big quote here\nCan move",fill:function(){return a.theme.quote},controlsOrder:1,fontSize:function(){return"Twitter"===a.size.name?60:50},fontFamily:function(){return a.theme.headlineFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 4*a.size.gridSize},fontWeight:600,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (50px)":50,"Standard (60px)":60,"Large (72px)":72}}}]}},{name:"Quote With Headshot",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Image",type:"image",width:function(){return 20*a.size.gridSize},controlsOrder:2,height:function(){return"function"==typeof this.width?this.width():this.width},src:function(){return a.theme.images.headshotSrc||""},opacity:1,x:function(){return 20*a.size.gridSize},y:function(){return a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Cross Reference Background",type:"rect",controlsOrder:5,height:function(){return 3*a.size.gridSize},width:function(){return templateHelper.crossReferenceBackground.width(a)},y:function(){return a.size.height-this.height()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return templateHelper.logo.width(a)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.images.logoSrc},opacity:1,x:function(){return templateHelper.logo.x(a)},y:function(){return templateHelper.logo.y(a)},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Cross Reference Text",type:"text",text:"Read more at: Insert name here",controlsOrder:4,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?20:16},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return a.size.height-a.size.gridSize},fontWeight:500,draggable:!1,editable:{text:!0}},{name:"Credit",type:"text",text:"SHAKESPEARE\nMuch Ado About Nothing",controlsOrder:3,fill:function(){return a.theme.quote},fontSize:function(){return"Twitter"===a.size.name?22:16},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",textTransform:"none",x:function(){return a.size.gridSize},y:function(){return a.size.height-6*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (16px)":16,"Large (22px)":22,"Larger (24px)":24,"Large (26px)":26},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"}}},{name:"Headline",type:"text",text:"Friendship is constant\nin all other things save in\nthe office and affairs of\nlove: Therefore, all hearts\nin love use their own",fill:function(){return a.theme.quote},controlsOrder:1,fontSize:function(){return a.theme.isNikkei?"Twitter"===a.size.name?28:24:"Twitter"===a.size.name?32:26},fontFamily:function(){return a.theme.headlineFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 3*a.size.gridSize},fontWeight:600,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (26px)":26,"Standard (32px)":32,"Large (40px)":40,"X-Large (50px)":50}}}]}},{name:"Big Number",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Image (Optional)",type:"image",width:function(){return.6*a.size.width},controlsOrder:10,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:"",opacity:1,x:"0%",y:"0%",preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Cross Reference Background",type:"rect",controlsOrder:5,height:function(){return 3*a.size.gridSize},width:function(){return templateHelper.crossReferenceBackground.width(a)},y:function(){return a.size.height-this.height()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return templateHelper.logo.width(a)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.images.logoSrc},opacity:1,x:function(){return templateHelper.logo.x(a)},y:function(){return templateHelper.logo.y(a)},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Cross Reference Text",type:"text",text:"Read more at: Insert name here",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?20:16},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return a.size.height-a.size.gridSize},fontWeight:500,draggable:!1,editable:{text:!0,fontSize:{"X-Small (16px)":16,"Small (18px)":18,"Standard (22px)":22,"Large (24px)":24}}},{name:"Explanatory Text",type:"text",text:"Add text here - you can also drag it\naround. It can be one line or several.",controlsOrder:2,fill:function(){return a.theme.quote},fontSize:function(){return"Twitter"===a.size.name?32:26},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 13*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fill:"picker",fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44}}},{name:"Big Number",type:"text",text:"Number",fill:function(){return a.theme.highlightColor},controlsOrder:1,fontSize:function(){return"Facebook"===a.size.name?80:100},fontFamily:function(){return a.theme.headlineFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 7*a.size.gridSize},fontWeight:600,draggable:!0,showHoverArea:!0,editable:{text:!0,fill:"picker"}}]}},{name:"Illustration",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:10,height:function(){return a.size.height},width:function(){return a.size.width},fill:"#ffffff"},{name:"Illustration",type:"image",width:function(){return.7*a.size.width},controlsOrder:1,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.images.illustrationSrc},opacity:1,x:0,y:function(){return a.size.gridSize*-.2},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Side Explanation Background",type:"rect",controlsOrder:10,height:function(){return a.size.height},width:function(){return.3*a.size.width},y:"0%",x:function(){return a.size.width-this.width()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return a.size.gridSize*(a.theme.isNikkei?12:5.1)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):5.5*a.size.gridSize)},y:function(){return a.size.height-4.2*a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Ref Text",type:"text",text:"unfpa.org/\nxxxxx",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return a.theme.isNikkei?0:"Twitter"===a.size.name?16:12},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){var b=a.size.width;return b-.3*b+a.size.gridSize},y:function(){return a.size.height-(a.size.gridSize*(a.theme.isNikkei?4:2)+2)},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"XX-Small (8px)":8,"X-Small (12px)":12,"Smaller (14px)":14,"Small (16px)":16,"Large (22px)":22,"Larger (24px)":24,"X-Large (26px)":26},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"},textAnchor:{left:"start",center:"middle",right:"end"}}},{name:"Explanatory Text",type:"text",text:"Add text here.\n\nYou can also\ndrag it around.\n\nIt can be one\nline or several.",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:18},fontFamily:function(){return a.theme.promoFont},textAnchor:"start",width:function(){return.3*a.size.width},x:function(){var b=a.size.width;return b-.3*b+a.size.gridSize},y:function(){return 2*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44}}}]}},{name:"Chart: 1 Column",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:10,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Graph",type:"image",width:function(){return.6*a.size.width},controlsOrder:1,height:function(){var b;return b="string"==typeof this.width?+this.width:this.width(),b>a.size.height-2*a.size.gridSize&&(b=a.size.height-2*a.size.gridSize),b},src:function(){return a.theme.images.graphSrc},opacity:1,x:function(){var b=.7*a.size.width,c=.45*a.size.width,d=b/2-c/2;return d},y:function(){return a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Side Explanation Background",type:"rect",controlsOrder:10,height:function(){return a.size.height},width:function(){return.3*a.size.width},y:"0%",x:function(){return a.size.width-this.width()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return a.size.gridSize*(a.theme.isNikkei?12:5.1)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):5.5*a.size.gridSize)},y:function(){return a.size.height-4.2*a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Reference Text",type:"text",text:"unfpa.org/\nxxxxxx",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return a.theme.isNikkei?0:"Twitter"===a.size.name?16:12},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){var b=a.size.width;return b-.3*b+a.size.gridSize},y:function(){return a.size.height-(a.size.gridSize*(a.theme.isNikkei?4:2)+2)},fontWeight:500,draggable:!1,editable:{text:!0}},{name:"Explanatory Text",type:"text",text:"Add text here.\n\nYou can drag\nit around.\n\nIt can be one\nline or several.",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:18},fontFamily:function(){return a.theme.promoFont},textAnchor:"start",width:function(){return.3*a.size.width},x:function(){var b=a.size.width;return b-.3*b+a.size.gridSize},y:function(){return 2*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44}}}]}},{name:"Chart: 2 Column",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Graph",type:"image",width:function(){return.7*a.size.width},controlsOrder:1,height:function(){var b;return b="string"==typeof this.width?+this.width:this.width(),b>a.size.height-2*a.size.gridSize&&(b=a.size.height-2*a.size.gridSize),b},src:function(){return a.theme.images.graphWideSrc},opacity:1,x:function(){return a.size.gridSize},y:function(){return a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Side Explanation Background",type:"rect",controlsOrder:5,height:function(){return a.size.height},width:function(){return.25*a.size.width},y:"0%",x:function(){return a.size.width-this.width()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return a.size.gridSize*(a.theme.isNikkei?10:6)},height:function(){return a.size.gridSize*(a.theme.isNikkei?3:6)},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):6.5*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:-1.2*a.size.gridSize;return a.size.height-(this.height(a)+b)},preserveAspectRatio:"xMidYMid slice",draggable:{x:!1,y:!0}},{name:"Reference Text",type:"text",text:"unfpa.org/\nsdgs",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return a.theme.isNikkei?0:"Twitter"===a.size.name?16:12},fontFamily:function(){return a.theme.xrefFont},textAnchor:"end",x:function(){var b=a.size.width;return b-.04*b+a.size.gridSize},y:function(){return a.size.height-(a.size.gridSize*(a.theme.isNikkei?4:5)+2)},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0}},{name:"Explanatory Text",type:"text",text:"Add text here.\n\nYou can drag\nit around.\n\nIt can be one\nline or several.",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Facebook"===a.size.name?14:18},fontFamily:function(){return a.theme.promoFont},textAnchor:"start",width:function(){return.25*a.size.width},x:function(){var b=a.size.width;return b-.25*b+a.size.gridSize},y:function(){return 2*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (12px)":12,
"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44}}}]}},{name:"Promo A",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Promo Image",type:"image",width:function(){return a.size.width},controlsOrder:1,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.images.promoSrc},opacity:1,x:"0%",y:"0%",preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Cross Reference Background",type:"rect",controlsOrder:5,height:function(){return 3*a.size.gridSize},width:function(){return templateHelper.crossReferenceBackground.width(a)},y:function(){return a.size.height-this.height()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return templateHelper.logo.width(a)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.images.logoSrc},opacity:1,x:function(){return templateHelper.logo.x(a)},y:function(){return templateHelper.logo.y(a)},preserveAspectRatio:"xMinYMin meet",draggable:{x:!1,y:!0}},{name:"Cross Reference Text",type:"text",text:"Promo A please go to unfpa.org/something",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?20:16},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return a.size.height-a.size.gridSize},fontWeight:500,draggable:!1,editable:{text:!0,fontSize:{"X-Small (16px)":16,"Small (18px)":18,"Standard (22px)":22,"Large (24px)":24}}}]}},{name:"Promo B",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Promo Image",type:"image",width:function(){return.75*a.size.width},controlsOrder:1,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.images.promoSrc},opacity:1,x:"0%",y:"0%",preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Side Explanation Background",type:"rect",controlsOrder:5,height:function(){return a.size.height},width:function(){return.25*a.size.width},y:"0%",x:function(){return a.size.width-this.width()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return a.size.gridSize*(a.theme.isNikkei?10:6)},height:function(){return a.size.gridSize*(a.theme.isNikkei?3:6)},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):6.5*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:-1.2*a.size.gridSize;return a.size.height-(this.height(a)+b)},preserveAspectRatio:"xMidYMid slice",draggable:{x:!1,y:!0}},{name:"Explanatory Text",type:"text",text:"Promo B\nplease go to\nunfpa.org/\nsomething-\ninteresting",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:18},fontFamily:function(){return a.theme.promoFont},textAnchor:"start",width:function(){return.25*a.size.width},x:function(){var b=a.size.width;return b-.25*b+a.size.gridSize},y:function(){return 2*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44}}}]}},{name:"Promo C",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background}},{name:"Promo Image",type:"image",width:function(){return.75*a.size.width},controlsOrder:3,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.images.promoSrc},opacity:1,x:"0%",y:"0%",preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Side Explanation Background",type:"rect",controlsOrder:5,height:function(){return a.size.height},width:function(){return.498*a.size.width},y:"0%",x:function(){return a.size.width-this.width()},fill:function(){return a.theme.xrefBackground}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return a.size.gridSize*(a.theme.isNikkei?10:5.5)},height:function(){return a.size.gridSize*(a.theme.isNikkei?3:5.5)},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):19*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:a.size.gridSize*-.9;return a.size.height-(this.height(a)+b)},preserveAspectRatio:"xMidYMid slice",draggable:!0,showHoverArea:!0},{name:"Explanatory Text",type:"text",text:"“Promo C\nplease go to\nunfpa.org/\nsomething”\n#hashtag here",controlsOrder:1,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:28},fontFamily:function(){return a.theme.promoFont},textAnchor:"end",width:function(){return.25*a.size.width},x:function(){var b=a.size.width;return b-.08*b+a.size.gridSize},y:function(){return 2.9*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium-ish (22px)":22,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44},textAnchor:{left:"start",center:"middle",right:"end"}}},{name:"Author Name",type:"text",text:"More words here",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:18},fontFamily:"eureka-bold",fontStyle:"normal",textAnchor:"end",width:function(){return.25*a.size.gridSize},x:function(){var b=a.size.width;return b-2*a.size.gridSize},y:function(){return 15*a.size.gridSize},fontWeight:300,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (18px)":18,"Standard (24px)":24,"Large (34px)":34},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"},textAnchor:{left:"start",center:"middle",right:"end"}}}]}},{name:"Donate Now",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:17,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background},editable:{fill:"picker"}},{name:"Header Background",type:"rect",controlsOrder:15,height:function(){return 3*a.size.gridSize},width:function(){return a.size.width},y:0,fill:function(){return a.theme.highlightColor},editable:{fill:"picker"}},{name:"Logo",type:"image",controlsOrder:16,width:function(){return templateHelper.logo.width(a)},height:function(){return templateHelper.logo.height(a)},src:function(){return a.theme.images.logoSrc},opacity:1,x:function(){return templateHelper.logo.x(a)},y:function(){var b=a.theme.isNikkei?0:a.size.gridSize;return a.size.height-(this.height(a)+-1.1*b)},preserveAspectRatio:"xMinYMin meet",draggable:{x:!0,y:!1},editable:{src:{"UNFPA Color":a.theme.images.logoSrc,"UNFPA Dark":a.theme.images.logoBW,"UNFPA White":a.theme.images.logoWhite,"UNFPA Grey":a.theme.images.logoAltSrc,SWOP:a.theme.images.nikkeiAsianReviewLogoWideSrc,"Global Goals":a.theme.images.GlobalgoalsSrc,"Global Goals (White)":a.theme.images.GlobalgoalsSrcWhite},width:!0}},{name:"Bookmark",type:"image",controlsOrder:16,width:function(){return a.size.gridSize},height:function(){return 2*a.size.gridSize},src:function(){return a.theme.images.bookmark},opacity:1,x:function(){return a.size.width-(this.width()+a.size.gridSize)},y:function(){return(3.5*a.size.gridSize-this.height())/2},preserveAspectRatio:"xMinYMin meet",draggable:!0},{name:"Header Text",type:"text",text:"Donate Now",textTransform:"uppercase",controlsOrder:1,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:18},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 2*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (18px)":18,"Standard (24px)":24,"Large (28px)":28},fill:"picker"}},{name:"Credit",type:"text",text:"Name here in caps",controlsOrder:3,fill:function(){return a.theme.quote},fontSize:function(){return"Twitter"===a.size.name?22:18},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",textTransform:"none",x:function(){return a.size.gridSize},y:function(){return a.size.height-5*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (18px)":18,"Large (22px)":22},fill:"picker"}},{name:"Read more",type:"text",text:"Contribute now at unfpa.org/donate",controlsOrder:4,fill:function(){return a.theme.highlightColor},fontSize:function(){return"Twitter"===a.size.name?18:14},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",textTransform:"uppercase",x:function(){return a.size.gridSize},y:function(){return a.size.height-a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (14px)":14,"Standard (18px)":18,"Large (22px)":22},fill:"picker"}},{name:"Quote",type:"text",text:"‘Give us the money \nor else!’",fill:function(){return a.theme.quote},controlsOrder:2,fontSize:function(){return"Twitter"===a.size.name?44:34},fontFamily:function(){return a.theme.headlineFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 6*a.size.gridSize},fontWeight:600,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (32px)":32,"Standard (44px)":44,"Large (50px)":50},fill:"picker"}}]}},{name:"UNFPA Co-Sponsored -- Quote With Headshot (Fully Editable)",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:7,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background},editable:{fill:"picker"}},{name:"Image",type:"image",width:function(){return 20*a.size.gridSize},controlsOrder:2,height:function(){return"function"==typeof this.width?this.width():this.width},src:function(){return a.theme.images.headshotSrc||""},opacity:1,x:function(){var b;return b="function"==typeof this.width?this.width():+this.width,a.size.width-(b+a.size.gridSize)},y:function(){return a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Cross Reference Background",type:"rect",controlsOrder:5,height:function(){return 3*a.size.gridSize+5},width:function(){return a.size.width+10},x:-5,y:function(){return a.size.height-this.height()+5},fill:function(){return a.theme.background},stroke:function(){return a.theme.quote}},{name:"Cosponsor Logo",type:"image",width:function(){return.24*a.size.width},controlsOrder:1,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.GlobalgoalsSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):11*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:-3.3*a.size.gridSize;return a.size.height-(this.height(a)+b)},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0}},{name:"Logo",type:"image",controlsOrder:6,width:function(){return a.size.gridSize*(a.theme.isNikkei?10:5.5)},height:function(){return a.size.gridSize*(a.theme.isNikkei?3:5.5)},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):39*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:-1.25*a.size.gridSize;return a.size.height-(this.height(a)+b)},preserveAspectRatio:"xMidYMid slice",draggable:!0,showHoverArea:!0,editable:{src:{"UNFPA Color":a.theme.images.logoSrc,"UNFPA Dark":a.theme.images.logoBW,"UNFPA White":a.theme.images.logoWhite,"UNFPA Grey":a.theme.images.logoAltSrc,"SWOP English":a.theme.images.nikkeiAsianReviewLogoWideSrc,"SWOP English (White)":a.theme.images.SWOPwh,"Global Goals":a.theme.images.GlobalgoalsSrc,"Global Goals (White)":a.theme.images.GlobalgoalsSrcWhite,"SWOP Français":a.theme.images.SWOPfr,"SWOP Français (White)":a.theme.images.SWOPfrWh,"SWOP Español":a.theme.images.SWOPes,"SWOP Español (White)":a.theme.images.SWOPesWh,"WPD English":a.theme.images.WPD,"WPD English (White)":a.theme.images.WPDwh,"WPD Français":a.theme.images.WPDfr,"WPD Français (White)":a.theme.images.WPDfrWh,"WPD Español":a.theme.images.WPDes,"WPD Español (White)":a.theme.images.WPDesWh,"Master Narrative English (Lockup A)":a.theme.images.MN,"Master Narrative English (Lockup A) White":a.theme.images.MNwh,"Master Narrative English (Lockup B)":a.theme.images.MNverb,"Master Narrative English (Lockup B) White":a.theme.images.MNverbWh,"Master Narrative Arabic":a.theme.images.MNar,"Master Narrative Chinese":a.theme.images.MNch,"Master Narrative Français":a.theme.images.MNfr,"Master Narrative Español":a.theme.images.MNes},width:!0}},{name:"Credit",type:"text",text:"Babatunde Osotimehin on why\nObstetric Fistula is Terrible",controlsOrder:3,fill:function(){return a.theme.quote},fontSize:function(){return"Twitter"===a.size.name?22:16},fontFamily:function(){return a.theme.creditFont},textAnchor:"start",textTransform:"none",x:function(){return a.size.gridSize},y:function(){return a.size.height-6*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (16px)":16,"Large (22px)":22,"Larger (24px)":24,"X-Large (26px)":26},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"},fill:"picker"}},{name:"Headline",type:"text",text:"Friendship is constant\nin all other things save in\nthe office and affairs of\nlove: Therefore, all hearts\nin love use their own",fill:function(){return a.theme.quote},controlsOrder:1,fontSize:function(){return"Twitter"===a.size.name?32:24},fontFamily:function(){return a.theme.headlineFont},textAnchor:"start",x:function(){return a.size.gridSize},y:function(){return 3*a.size.gridSize},fontWeight:600,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"Small (26px)":26,"Standard (32px)":32,"Large (40px)":40,"X-Large (50px)":50},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"},fill:"picker"}}]}},{name:"UNFPA Co-Sponsor Sidebar (Fully Editable)",elements:function(a){return[{name:"Background Colour",type:"rect",controlsOrder:10,height:function(){return a.size.height},width:function(){return a.size.width},fill:function(){return a.theme.background},editable:{fill:"picker"}},{name:"Any Image",type:"image",width:function(){return.6*a.size.width},controlsOrder:3,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:"",opacity:1,x:"0%",y:"0%",preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0,filters:["Grayscale"]}},{name:"Side Explanation Background",type:"rect",controlsOrder:10,height:function(){return a.size.height},width:function(){return.3*a.size.width},y:"0%",x:function(){return a.size.width-this.width()},fill:"#1e4b73",draggable:!0,showHoverArea:!0,editable:{fill:"picker"}},{name:"Primary Logo",type:"image",controlsOrder:2,width:function(){return.3*a.size.width-2*a.size.gridSize},height:function(){return 4*a.size.gridSize},src:function(){return a.theme.images.weekendSrc||a.theme.images.logoSrc},opacity:1,x:function(){return a.size.width-11*a.size.gridSize},y:function(){return a.size.gridSize},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,editable:{src:{"UNFPA Color":a.theme.images.logoSrc,"UNFPA Dark":a.theme.images.logoBW,"UNFPA White":a.theme.images.logoWhite,"UNFPA Grey":a.theme.images.logoAltSrc,"SWOP English":a.theme.images.nikkeiAsianReviewLogoWideSrc,"SWOP English (White)":a.theme.images.SWOPwh,"Global Goals":a.theme.images.GlobalgoalsSrc,"Global Goals (White)":a.theme.images.GlobalgoalsSrcWhite,"SWOP Français":a.theme.images.SWOPfr,"SWOP Français (White)":a.theme.images.SWOPfrWh,"SWOP Español":a.theme.images.SWOPes,"SWOP Español (White)":a.theme.images.SWOPesWh,"WPD English":a.theme.images.WPD,"WPD English (White)":a.theme.images.WPDwh,"WPD Français":a.theme.images.WPDfr,"WPD Français (White)":a.theme.images.WPDfrWh,"WPD Español":a.theme.images.WPDes,"WPD Español (White)":a.theme.images.WPDesWh,"Master Narrative English (Lockup A)":a.theme.images.MN,"Master Narrative English (Lockup A) White":a.theme.images.MNwh,"Master Narrative English (Lockup B)":a.theme.images.MNverb,"Master Narrative English (Lockup B) White":a.theme.images.MNverbWh,"Master Narrative Arabic":a.theme.images.MNar,"Master Narrative Chinese":a.theme.images.MNch,"Master Narrative Français":a.theme.images.MNfr,"Master Narrative Español":a.theme.images.MNes},width:!0}},{name:"Co-Sponsor Logo #2",type:"image",width:function(){return.35*a.size.width},controlsOrder:2,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.isNikkei?a.theme.images.logoWideSrc:a.theme.images.GlobalgoalsSrc},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):26.5*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:a.size.gridSize;return a.size.height-(this.height(a)+-5*b)},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:!0,width:!0}},{name:"UNFPA Brand Extension Logos",type:"image",width:function(){return.45*a.size.width},controlsOrder:1,height:function(){var a;return a="string"==typeof this.width?+this.width:this.width()},src:function(){return a.theme.images.MNar||a.theme.images.MNar},opacity:1,x:function(){return a.size.width-(a.theme.isNikkei?this.width(a):30.5*a.size.gridSize)},y:function(){var b=a.theme.isNikkei?0:2.91*a.size.gridSize;return a.size.height-(this.height(a)+b)},preserveAspectRatio:"xMinYMin meet",draggable:!0,showHoverArea:!0,defaultFilter:"",editable:{src:{"UNFPA Color":a.theme.images.logoSrc,"UNFPA Dark":a.theme.images.logoBW,"UNFPA White":a.theme.images.logoWhite,"UNFPA Grey":a.theme.images.logoAltSrc,"SWOP English":a.theme.images.nikkeiAsianReviewLogoWideSrc,"SWOP English (White)":a.theme.images.SWOPwh,"Global Goals":a.theme.images.GlobalgoalsSrc,"Global Goals (White)":a.theme.images.GlobalgoalsSrcWhite,"SWOP Français":a.theme.images.SWOPfr,"SWOP Français (White)":a.theme.images.SWOPfrWh,"SWOP Español":a.theme.images.SWOPes,"SWOP Español (White)":a.theme.images.SWOPesWh,"WPD English":a.theme.images.WPD,"WPD English (White)":a.theme.images.WPDwh,"WPD Français":a.theme.images.WPDfr,"WPD Français (White)":a.theme.images.WPDfrWh,"WPD Español":a.theme.images.WPDes,"WPD Español (White)":a.theme.images.WPDesWh,"Master Narrative English (Lockup A)":a.theme.images.MN,"Master Narrative English (Lockup A) White":a.theme.images.MNwh,"Master Narrative English (Lockup B)":a.theme.images.MNverb,"Master Narrative English (Lockup B) White":a.theme.images.MNverbWh,"Master Narrative Arabic":a.theme.images.MNar,"Master Narrative Chinese":a.theme.images.MNch,"Master Narrative Français":a.theme.images.MNfr,"Master Narrative Español":a.theme.images.MNes},width:!0}},{name:"Reference Text",type:"text",text:"Read more at\nunfpa.org/xxx",controlsOrder:3,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?18:14},fontFamily:function(){return a.theme.xrefFont},textAnchor:"start",x:function(){var b=a.size.width;return b-.3*b+a.size.gridSize},y:function(){return a.size.height-(2*a.size.gridSize+2)},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"},fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Standard (24px)":24,"Large (34px)":34},textAnchor:{left:"start",center:"middle",right:"end"},fill:"picker"}},{name:"Explanatory Text",type:"text",text:"Add text here -\nYou can also drag\nit around.\n\nIt can be over one\nline or several.",controlsOrder:2,fill:function(){return a.theme.xref},fontSize:function(){return"Twitter"===a.size.name?24:18},fontFamily:"eureka-regular",textAnchor:"start",width:function(){return 12*a.size.gridSize},x:function(){var b=a.size.width;return b-11*a.size.gridSize},y:function(){return 7*a.size.gridSize},fontWeight:500,draggable:!0,showHoverArea:!0,editable:{text:!0,fontSize:{"X-Small (12px)":12,"Smaller (14px)":14,"Smallish (16px)":16,"Small (18px)":18,"Medium (20px)":20,"Standard (24px)":24,"Standard Plus (28px)":28,"Large (34px)":34,"X-Large (36px)":36,"XX-Large (44px)":44},fontFamily:{"Eureka Regular":"eureka-regular","Eureka Bold":"eureka-bold","Eureka Italic":"eureka-italic","Eureka Medium":"eureka-medium","UNFPA Text":"unfpatext","UNFPA Text Italic":"unfpatextitalic","UNFPA Semibold":"unfpasemibold","UNFPA Semibold Italic":"unfpasemibolditalic","UNFPA Bold":"unfpabold"},textAnchor:{left:"start",center:"middle",right:"end"},fill:"picker"}}]}}]}}}),angular.module("cardkitApp").directive("textEditor",function(){return{template:'<div><label>Text</label><div class="warn label">Press "Enter" to create multi-line text.</div><textarea ng-model="element.text" class="form-control"></textarea></div>',restrict:"E",replace:!0,scope:{element:"="}}}),angular.module("cardkitApp").directive("fillEditor",function(){return{template:'<div><label>Fill Color</label><input colorpicker type="text" ng-model="element.fill" ng-if="field == \'picker\'" class="form-control" /><select ng-model="element.fill" ng-options="name for (name, value) in field" class="form-control" ng-if="field != \'picker\'"><option value="">-- Select a Fill Color --</option></select></div>',restrict:"E",scope:{field:"=",element:"="}}}),angular.module("cardkitApp").directive("fontsizeEditor",function(){return{template:'<div><label>Font Size</label><select ng-model="element.fontSize" ng-options="name for (name, value) in field" class="form-control"><option value="">-- Select a Font Size --</option></select></div>',restrict:"E",replace:!0,scope:{element:"=",field:"="}}}),angular.module("cardkitApp").directive("fontstyleEditor",function(){return{template:'<div><label>Font Style</label><select ng-model="element.fontStyle" ng-options="name for (name, value) in field" class="form-control"><option value="">-- Select a Font Style --</option></select></div>',restrict:"E",replace:!0,scope:{element:"=",field:"="}}}),angular.module("cardkitApp").directive("fontfamilyEditor",function(){return{template:'<div><label>Font Family</label><select ng-model="element.fontFamily" ng-options="name for (name, value) in field" class="form-control"><option value="">-- Select a Font Family --</option></select></div>',restrict:"E",replace:!0,scope:{element:"=",field:"="}}}),angular.module("cardkitApp").directive("imageEditor",function(){return{template:'<div><label>Image</label><div ng-if="field === true" class="dropzone" drop="onDrop($data, $event, key)" drop-effect="copy" drop-accept="\'Files\'" drag-over-class="drag-over-accept"><div class="warning label">Consult the UNFPA<em> One Voice Toolkit</em> for guidance on images in social media.</div><div class="fileInputWrapper button"><span>or select an image</span><input onchange="angular.element(this).scope().fileChanged(this, event)" data-key="{{key}}" type="file" accept="image/*" /></div></div><select ng-model="element.src" ng-options="name for (name, value) in field" class="form-control" ng-if="field !== true && field !== false"><option value="">-- Select an image --</option></select><button ng-show="config.elements[key].src !== \'\'" ng-click="removeImage(key)" class="button button-danger"><i class="fa fa-times"></i> Remove Image</button></div>',restrict:"E",scope:{key:"=",onDrop:"=",removeImage:"=",fileChanged:"=fileChanged",field:"=",element:"="},link:function(a,b){(""===a.element.src||"undefined"==typeof a.element.src)&&angular.isObject(a.field)&&(a.element.src=a.field[Object.keys(a.field)[0]])}}}),angular.module("cardkitApp").directive("sizeEditor",function(){return{template:'<div><label>Size</label><input type="range" min="10" max="1000" ng-model="element.width" /></div>',restrict:"E",replace:!0,scope:{element:"="}}}),angular.module("cardkitApp").directive("textanchorEditor",function(){return{template:'<div><label>Text Anchor</label><select ng-model="element.textAnchor" class="form-control"><option value="">-- Select a Text Anchor --</option><option value="start">Start</option><option value="middle">Middle</option><option value="end">End</option></select></div>',restrict:"E",replace:!0,scope:{element:"="}}}),angular.module("cardkitApp").directive("opacityEditor",function(){return{template:'<div><label>Opacity</label><input type="range" min="0" max="1" ng-model="element.opacity" step="0.05" /></div>',restrict:"E",replace:!0,scope:{element:"=element"}}}),angular.module("cardkitApp").directive("filterEditor",function(){return{template:'<div><label>Filter</label><select ng-model="element.defaultFilter" ng-options="filter for filter in filters" class="form-control"><option value="">No filter</option></select></div>',replace:!0,restrict:"E",scope:{element:"=",filters:"="}}});